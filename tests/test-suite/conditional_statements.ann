if runtime_cast(false) {
    print("It's true!");
}
let str1 = runtime_cast("The flag is ");
assert_equal(str1 .. "true", "The flag is true");

let chain = runtime_cast("");
if runtime_cast(false) {
    chain = "if";
} else if runtime_cast(true) {
    chain = "else_if";
} else {
    chain = "else";
}
assert_equal(chain, "else_if");
let chain2 = runtime_cast("");
if runtime_cast(false) {
    chain2 = "if";
} else if runtime_cast(false) {
    chain2 = "else_if";
} else {
    chain2 = "else";
}
assert_equal(chain2, "else");

assert_equal(__get_frame_stack_height(), 3);

fn on_change($eventName: string) {
    if $eventName == "event0" {
        let ports_field: string = runtime_cast("just example string");
    } else {
        let ports_field: string = runtime_cast("just example string");
    }
    let ports_field: string = runtime_cast("just example string");
    assert_equal(__get_frame_stack_height(), 1);
}
on_change(runtime_cast("event0"));
on_change(runtime_cast("event1"));

assert_equal(__get_frame_stack_height(), 3);